# Simple macOS trojan

## Attack tree
```text
1 Backdoor (AND/OR)
2 Keylogger (AND/OR)
3 Password recovery tool (AND)
4 Make simple trojan (AND)
    4.1 Evil file
        4.1.1 Configure evil file to download and execute a normal file (AND)
        4.1.2 Compile and change icon (AND)
        4.1.3 Configure to run silently
    4.2 Embed code
4 Deliver payload (AND)
5 Listen and post exploitation
```

## Notes

### Preview icons
Problem: macOS icons give a preview of the file.

Solution: Make them yourself with screenshots. My assumption is that developers running Linux for developing apps will 
buy a Mac just for creating some icon files.

New problem:
* The Iconvert icons website is not found (is either down or has been removed). 
* The `icnsutils` package, which contains `png2icns` and `icns2png`, does not do "finder ready" `.icns`, so the results are squared.
* GIMP no longer has built-in support for creating `.icns` and the GIMP registry is no longer maintained which means that finding [plugins](https://shotkit.com/gimp-plugins/) can be quite the challenge. 
* I found the [Gimp Mac Helper, but it is old](https://osdn.net/projects/sfnet_gimp-mac-helper/) and specifically mentions supporting GIMP 2.

* Solution: I am moving on for now, so as not to get stuck but will come back to this later with fresh ideas for writing my own conversion script maybe.

## Scripts

* [Nirridit (Evil files)](https://github.com/tymyrddin/nirridit)
